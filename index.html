<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fake Linux Terminal – Draggable Prank with Fast Progress (Fixed)</title>
  <style>
    :root {
      --bg: #0b0f12;
      --fg: #d7ffd7;
      --dim: #7fbf7f;
      --accent: #9cff9c;
      --cursor: #a1ffa1;
      --warn: #ffd1a7;
    }

    * { box-sizing: border-box; }

    html, body {
      height: 100%;
      background: radial-gradient(1200px 800px at 40% 20%, #0f1519 0%, var(--bg) 60%);
      margin: 0;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color: var(--fg);
    }

    .wrap { height: 100%; width: 100%; position: relative; overflow: hidden; }

    .terminal {
      width: min(900px, 95vw);
      height: min(560px, 78vh);
      background: #000a;
      border: 1px solid #1d2a22;
      border-radius: 12px;
      box-shadow: 0 10px 35px rgba(0,0,0,0.55), inset 0 0 0 1px rgba(255,255,255,0.02);
      overflow: hidden;
      position: fixed;            
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      user-select: none;
    }

    .bar {
      height: 36px;
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 0 12px;
      background: linear-gradient(#0e1612, #0a110d);
      border-bottom: 1px solid #0e1a13;
      color: var(--dim);
      letter-spacing: .3px;
      cursor: move;
    }

    .dot { width: 12px; height: 12px; border-radius: 50%; }
    .dot.red { background:#ff5f56; }
    .dot.yellow { background:#ffbd2e; }
    .dot.green { background:#27c93f; }

    .title { margin-left: 6px; font-size: 12px; opacity:.9; }

    .screen {
      height: calc(100% - 36px);
      padding: 16px;
      overflow: auto;
      line-height: 1.5;
      position: relative;
      background-image: repeating-linear-gradient(rgba(255,255,255,0.02) 0 1px, transparent 1px 3px);
    }

    .line { white-space: pre-wrap; }
    .muted { color: var(--dim); }
    .accent { color: var(--accent); }
    .warn  { color: var(--warn); }

    
    .smallascii { font-size: 10px; line-height: 1.1; letter-spacing: 0.3px; opacity: 0.95; }

    .prompt { color: var(--accent); }

    .cursor {
      display: inline-block;
      width: .6ch;
      height: 1.1em;
      vertical-align: -0.15em;
      background: var(--cursor);
      opacity: 0.8;
      animation: blink 1s steps(1) infinite;
      margin-left: 2px;
    }

    @keyframes blink { 50% { opacity: 0; } }

    .terminal, .screen { text-shadow: 0 0 2px rgba(156, 255, 156, 0.25); }

    .screen::-webkit-scrollbar { width: 10px; }
    .screen::-webkit-scrollbar-thumb { background: #19341f; border-radius: 10px; }
    .screen::-webkit-scrollbar-track { background: #0b130d; }

    .hint { position:absolute; right:12px; bottom:8px; font-size:11px; color:#6aa26a; opacity:.7; }

    
    #test-log { display:none; font-size:12px; color:#afceaf; margin: 8px 16px; }
    #test-log.show { display:block; }
  </style>
</head>
<body>
  <div class="wrap">
    <div id="terminal" class="terminal" role="application" aria-label="Fake Linux terminal prank">
      <div id="bar" class="bar" aria-grabbed="false">
        <div class="dot red" aria-hidden="true"></div>
        <div class="dot yellow" aria-hidden="true"></div>
        <div class="dot green" aria-hidden="true"></div>
        <div class="title">admin@machine — bash — 80×24</div>
      </div>
      <div id="screen" class="screen" aria-live="polite">
        <div class="line muted">Welcome to Ubuntu 22.04 LTS (GNU/Linux 6.2.0 x86_64)</div>
        <div class="line muted">Type <span class="accent">help</span> for help.</div>
        <div class="line" id="input-line">
          <span class="prompt">admin@machine</span><span class="muted">:</span><span class="accent">~</span>$ <span id="typed"></span><span id="cursor" class="cursor" aria-hidden="true"></span>
        </div>
      </div>
    </div>
  </div>

  
  <pre id="test-log"></pre>

  <script>
    
    const screen = document.getElementById('screen');
    const typed = document.getElementById('typed');
    const cursor = document.getElementById('cursor');
    const testLog = document.getElementById('test-log');

    const sleep = (ms) => new Promise(r => setTimeout(r, ms));

    function scrollToBottom() { screen.scrollTop = screen.scrollHeight; }

    function setCursorBlinking(on) {
      cursor.style.animationPlayState = on ? 'running' : 'paused';
      cursor.style.opacity = on ? '0.8' : '1';
    }

    function appendLine(text, cls = '') {
      const line = document.createElement('div');
      line.className = `line ${cls}`.trim();
      line.textContent = text;
      screen.insertBefore(line, document.getElementById('input-line'));
      scrollToBottom();
      return line;
    }

    async function typeText(text, delayMin = 22, delayVar = 45) {
      setCursorBlinking(false);
      for (const ch of text) {
        typed.textContent += ch;
        const jitter = Math.floor(Math.random() * delayVar);
        await sleep(delayMin + jitter);
      }
      setCursorBlinking(true);
    }

    async function pressEnter() {
      const promptPrefix = 'admin@machine:~$ ';
      appendLine(promptPrefix + typed.textContent);
      typed.textContent = '';
    }

    
    function easeOutCubic(t) { return 1 - Math.pow(1 - t, 3); }

    
    async function simulateInstall(name, durationMs) {
      const line = appendLine(`Installing ${name}... 0%`);
      const start = performance.now();
      let last = start;
      return new Promise(resolve => {
        function tick(now) {
          const elapsed = now - start;
          const t = Math.min(elapsed / durationMs, 1);
          const pct = Math.min(100, Math.floor(easeOutCubic(t) * 100));
          if (now - last > 60 || t >= 1) {
            line.textContent = `Installing ${name}... ${pct}%`;
            last = now;
            scrollToBottom();
          }
          if (t < 1) requestAnimationFrame(tick);
          else resolve();
        }
        requestAnimationFrame(tick);
      });
    }

    
    function splitLines(str) { return str.split('\n'); }

    
    async function showFBIAsciiNotice() {
      const art = `
                                                ....                                                
                                      ...     ....:::..     ..                                      
                                  .....::::.......:::::...........                                   
                             .....:-----:::::::----=---:....::::-:....                              
                            ....::::-=+***################**++=-----:::.                            
                   ............:=+*####*+==++****##****++==+*####**=::::.........                   
                   .:.......:+*###*=+*###**#*:=+-+---*######***+=*###*+-......:-:                   
                   ::::..:+###*=*###*:=#-:+##:=.-#+-*###*:++-*-=##*+=*###*:..:---.                  
                  .::::=*##*=*##*=.::-:#+:--#-+#+#*+####*-==-*.:=+###*+=*##*+=---:                  
               ....:-+##*=*##-:-*#-+.#+##**+====+++++===+**##=:*####-:###*=*##*=-:...               
            .......*##*=##=.*##--*###+=*%########**#########*=+##*=-=#+.+=#*=*##*:......            
            ..:..+##*=##*-..:-+##+=############*+--+*############=+##+-#:#+=**=*##+:::..            
          .::::=*##=#*-*##* +#+=##*+############+:-*############+*#*=+#%%=--=##*=###=:::::          
          :---+##++%##=-=:##=+%####-::+%########+##+*########+::-%####+=#+:-#+-+#++##+-==-          
       .:.--=*##-%#:-:+:+#-######*+=---*####################*-=-=+*#####*-#*.:+-###-##*+==.:.       
       .:::-*#*+###+.=*#=*#########*+%#########################=##########*=#%##: *#+*#*-:::.       
       .::-##**#-=#**+#+########################*==#########################+*==#*+*#++##-::.       
      ...:##*+#+=.-=**+###*+############+-:::::::--::::::::+############+*###++#:*%*=#+*##:....     
   ......*#*+#*-=*+#+*%*-::+*#########*-:::::::--**--:::::::-*#########*=::=%#++*:-#%##+*#*......   
 .......+##+#+=**:%+*###==-=#%##########=:-=+:--+*#+--:+=-:+############=--=###*+#==.:+#+##+....::. 
 ..::::-##+*#%%+.*+*####%#*+#######%####=--=--::::::::--=--+############+%##%###+**-++=**+##=----:. 
  .::::*##=%#####*=%#################%##+::::::::::::::::::+#####################=##%####=##*----.  
   .::=##=#######=%##################%######:  .+##+.  .###%###*##################-%#####*+##+--:   
   ...+##=%#####+*##########################:  .+##+.  .##########################+*######=%#*::..  
  ...:*#+*+-++*#=%##*+######################:  .+##+.  .######################**###=#==++#**#*-:::. 
.....-*#=%**+=+*+#*+-:-=*###################:  .+##+.  .############%######*=-:=+*#=#*-:+*#=#*=::::.
  .::=##=%+##=+**##*---*#############%######:  .+##+.  .############%#######*--=*%#+**=***#-%#+--.  
 .:::=##-%--:-+**###+##*####################:  .+##+.  .########%###########*%#+###***-::+#-%#+---. 
 .---+##-%+##*#+*###########################:  .+##+.  .###########################**+=#+=#-%#*===. 
  .--+##=%+==-+**###################%#######:  .+##+.  .###%###%###################+*#+==##-%#+==:  
.::::=*#=%=+%++#+###################%##%####++++####*+++##%####%###%###############=#=:::+#=##=----.
 ..::-*#+*#++**#=#################################%%###############%###############=#+*#*#+*#*=--:. 
  ..::+##=#-::-*+*##*=+==##############+--:-+##########+-:--=#####%########=+++###+**:-=+#=%#*--:.  
   ...-*#=#+-++##=%##-::-**:.:*#####-::.::..:%#########:.:::::.-#####*:.-#+:::=###-%**#+**+%#=::.   
  .....*##=##*=.**=#**==**##-..==-.: -.:....-%#########-...:::: :.-==:.-##**=+**#=#----=#=%#*::::.  
  .....-##+*+--:-#+*#########-.::.:--:.-*#-..-=#%%%%#=-..-#+-.-:-.:::.=#########+*##+-+***##=::::.. 
 .:-----*##=*=+####+*#########+::::.:*####::=:-.:.::.::.::####*:.::.:*#########**%:-++*#+##*------. 
  ..:----*#*+*-:=:=#++##########*#########+:.--.:-:::-: .*#######**###########+*#:*#+=#+##*-----..  
     ..-::##++#=.##+**+#######*=#############*#*=--=*###############++#######+*#=*=:+#+*##---:.     
       ...:##++***::+#*+####*-::-=################################=:.:-*####+*##+.:=#+*##-::.       
       ....-*#*+#=+-*###=+###-=-*##################################+---###*+#--*####+*#*-:::.       
       ...::-*##-#####*-+#=*#############*################*#############*=%*++*-.##-%#*=--.:.       
          .::-*##++#*:.:.+##=+###########+--:*########+:--*###########+=%#=+-.+##++%#*=--:          
          .====+###-**-.*#.:*#*=*######*--::-##########:-:--*######*=*%=-#%#--#*=%##+====:          
            .:==-*##*=*#+:#:**:*#+=*#####*=############%#=######*=+%*:*#.=+:#*=###*--=-.            
            .:-----*##*=*##%*::-=**##+-+*###################+=*%%*+=:-+#*=%*=*##*------.            
               .:-:.:+##*=+#*=+=%=-#.%#**##+=--=======-=*#%#**- .--##*=*#*=###*-:--:.               
                  ....:+###*=*##+:++#*--=#:=:=###+=+#=::-%##-+#+=*=+##*=*%##+::::.                  
                   ...:--=*###*=+*##*-*+=*-*:%##-=%==* -####+:+*##*+=*%##*=--::::.                  
                   ..:-------+*###*==***##*+####*---#*-=####***+=*%##*+--------:.                   
                   .::::::::::::=**#####*+==+**********++==*#%###**=::::::::::::.                   
                            .:::----++***#################****++----:::.                            
                             ....:-=====--------=======-::::-====-:....                              
                                  .....:---:::::::-----:.::::.....                                  
                                      ...     .:::---:.    ...                                       
                                                .::..                                                
      `;
      const d=new Date();const y=d.getFullYear();const m=String(d.getMonth()+1).padStart(2,'0');const day=String(d.getDate()).padStart(2,'0');const letters=Array.from({length:3},()=>String.fromCharCode(65+Math.floor(Math.random()*26))).join('');const caseNo=`US-FED-${y}-${m}-${day}-${letters}`;const header=[
        '',
        '============================================================',
        'UNITED STATES FEDERAL LAW ENFORCEMENT NOTICE',
        'THIS COMPUTER HAS BEEN SEIZED pursuant to a lawful seizure warrant.',
        'All hardware, software, and data associated with this device are now',
        'under the custody of federal authorities pending further investigation.',
        '',
        'All activity on this device may be monitored and recorded. Any attempt to',
        'power off, tamper with, or access this system without authorization is',
        'prohibited and may constitute a violation of federal law.',
        '',
        `CASE NO.: ${caseNo}`,
        'CONTACT: Nearest federal law enforcement field office for instructions.',
        '============================================================',
        ''
      ];
      
      splitLines(art).forEach(l => appendLine(l, 'warn smallascii'));
      for (const l of header) { appendLine(l, 'warn'); await sleep(12); }
    }

    async function simulateRmRf() {
      await typeText('sudo rm -rf /');
      await sleep(120);
      await pressEnter();

      const items = [
        '/bin/sh','/bin/ls','/bin/cat','/bin/bash','/bin/mount','/bin/umount','/sbin/init','/sbin/iptables',
        '/usr/bin/python3','/usr/bin/perl','/usr/bin/apt','/usr/bin/sudo','/usr/bin/ssh','/usr/bin/top',
        '/usr/sbin/sshd','/usr/local/bin/node','/usr/local/bin/npm','/usr/bin/git','/usr/bin/curl','/usr/bin/wget',
        '/lib/x86_64-linux-gnu/libc.so.6','/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2','/lib/modules',
        '/etc/passwd','/etc/shadow','/etc/hosts','/etc/resolv.conf','/etc/ssh/sshd_config','/etc/fstab','/etc/apt/sources.list',
        '/var/log/syslog','/var/log/auth.log','/var/tmp','/var/www/html/index.html','/var/lib/dpkg/status',
        '/home/admin/.bashrc','/home/admin/.profile','/home/admin/.ssh/authorized_keys','/root/.bashrc','/root/.ssh/id_rsa',
        '/opt','/opt/google/chrome','/snap/bin/firefox','/usr/share/icons','/usr/share/fonts','/usr/share/zoneinfo',
        '/boot/vmlinuz','/boot/initrd.img','/dev/null','/dev/zero','/tmp/.X11-unix','/tmp/cache.tmp'
      ];

      
      const choices = [100, 330, 550, 1000];
      const pickDelay = () => choices[Math.floor(Math.random() * choices.length)];

      for (const p of items) {
        appendLine(p);
        await sleep(pickDelay());
        appendLine(`deleted: ${p}`);
      }
      appendLine("rm: cannot remove '/proc': Device or resource busy");
      await sleep(pickDelay());
      appendLine("rm: cannot remove '/sys': Device or resource busy");
      await sleep(pickDelay());
      appendLine("rm: cannot remove '/dev': Operation not permitted");
      await sleep(pickDelay());
      
    }

    async function main() {
      
      await sleep(2000);
      await typeText('sudo apt install opsec');
      await sleep(150);
      await pressEnter();

      
      await simulateInstall('Opera GX', 2200);
      await sleep(120);
      await simulateInstall('Brave', 2000);
      await sleep(120);
      await simulateInstall('ProtonVPN', 1800);
      await sleep(100);
      await simulateInstall('Tor Browser', 2100);
      await sleep(100);
      await simulateInstall('Kali', 2600);
      await sleep(90);
      await simulateInstall('nmap', 1400);
      await sleep(90);
      await simulateInstall('Telegram', 1700);
      await sleep(300);

      
      await showFBIAsciiNotice();

      
      await sleep(4000);
      await simulateRmRf();

      
      await sleep(500);
      const fresh = document.getElementById('input-line');
      fresh.querySelector('#typed').textContent = '';
      setCursorBlinking(true);
      scrollToBottom();
    }

    
    (function enableDrag() {
      const term = document.getElementById('terminal');
      const handle = document.getElementById('bar');
      let dragging = false;
      let startX = 0, startY = 0;
      let offsetX = 0, offsetY = 0;

      function onMouseDown(e) {
        dragging = true;
        handle.setAttribute('aria-grabbed', 'true');
        const rect = term.getBoundingClientRect();
        term.style.transform = 'none';
        term.style.left = rect.left + 'px';
        term.style.top = rect.top + 'px';
        startX = e.clientX; startY = e.clientY;
        offsetX = rect.left; offsetY = rect.top;
        document.addEventListener('mousemove', onMouseMove);
        document.addEventListener('mouseup', onMouseUp);
      }

      function onMouseMove(e) {
        if (!dragging) return;
        const dx = e.clientX - startX;
        const dy = e.clientY - startY;
        term.style.left = offsetX + dx + 'px';
        term.style.top = offsetY + dy + 'px';
      }

      function onMouseUp() {
        dragging = false;
        handle.setAttribute('aria-grabbed', 'false');
        document.removeEventListener('mousemove', onMouseMove);
        document.removeEventListener('mouseup', onMouseUp);
      }

      handle.addEventListener('mousedown', onMouseDown);
      
      handle.addEventListener('touchstart', (e) => {
        const t = e.touches[0];
        onMouseDown({ clientX: t.clientX, clientY: t.clientY });
        e.preventDefault();
      }, { passive: false });
      document.addEventListener('touchmove', (e) => {
        if (!dragging) return;
        const t = e.touches[0];
        onMouseMove({ clientX: t.clientX, clientY: t.clientY });
      }, { passive: false });
      document.addEventListener('touchend', onMouseUp);
    })();

    
    function logTest(name, ok, info='') {
      const line = ok ? `✅ ${name}` : `❌ ${name} — ${info}`;
      console[ok ? 'log' : 'error'](line);
      testLog.textContent += line + '\n';
    }

    function runDevTests() {
      
      try {
        const sample = 'a\nb\nc';
        const parts = splitLines(sample);
        logTest('splitLines basic', parts.length === 3, `got ${parts.length}`);
      } catch (e) {
        logTest('splitLines basic', false, e.message);
      }
      
      let mono = true; let prev = 0;
      for (let i=0;i<=10;i++){ const v = easeOutCubic(i/10); if (v < prev) mono = false; prev = v; }
      logTest('easeOutCubic monotonic', mono);
      
      const hasItems = (function(){
        const tmp = [
          '/bin/sh','/etc/passwd'
        ];
        return tmp.length > 0;
      })();
      logTest('simulateRmRf items present', hasItems);
      
      if (testLog.textContent.includes('❌')) testLog.classList.add('show');
    }

    
    runDevTests();
    main();
  </script>
</body>
</html>
